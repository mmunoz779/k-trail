<!DOCTYPE html>
<html lang="en">
<head>
    <title>death</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>


</head>
<body ng-app="myApp" ng-controller="scoremembers">
<p>score={{score}}</p>
<script>
    var app = angular.module('myApp', []);
    app.controller('scoremembers', function ($scope, $http,$window) {
        $scope.state=JSON.parse(sessionStorage.getItem('state'));

        var diff = 2;
        if (state.difficulty == "undergraduate")
            diff = 2;
        else if (state.difficulty == "graduate")
            diff = 3;
        else if (state.difficulty == "prospective")
            diff = 1;

    var lived = $scope.state.members.filters((member)=>{
        if (member.health > 0)
        return true;
    });
    var alive = diff*1000*lived.length;
    });
    var distance = $scope.distance*50;
    var days = $score.daysPassed*60;
    $scope.score = alive+distance+days;
</script>


<div class="imgcontainer" align="center">
    <img src="../assets/died.gif" alt="died" class="died">
</div>
<button class="deathButton" onclick="window.location.href='/'" >Try Again</button>
</body>
</html>